---
title: "FMB819: Rì„ ì´ìš©í•œ ë°ì´í„°ë¶„ì„"
subtitle: "<span style='font-size:1.5em; color:#a01616;'>Multiple Regression Model</span>"
# date: "`r Sys.Date()`"
format:
  revealjs:
    slide-number: true
    # smaller: true
    scrollable: true
    chalkboard: true
    transition: fade
    transition-speed: fast
    #incremental: true
    #lib_dir: libs
    css: [default, "../css/kubs.css", "../css/kubs-fonts.css"]
    #nature:
      # beforeInit: ["../js/ru_xaringan.js"]
      #highlightStyle: github
      #highlightLines: true
      #countIncrementalSlides: false
    #  ratio: "16:9"
    # includes:
    #   in_header: "../libs/partials/header.html"
revealjs-plugins:
  - revealjs-text-resizer    
---

```{r setup, include=FALSE,warning=FALSE,message=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  dev = "svg",
  cache = TRUE,
  fig.align = "center"
  #fig.width = 11,
  #fig.height = 5
)

# define vars
om = par("mar")
lowtop = c(om[1],om[2],0.1,om[4])
library(magrittr)
library(plotly)
library(reshape2)
library(haven)
library(tidyverse)
library(AER)
library(gtools)
library(countdown)

# countdown style
countdown(
  color_border              = "#d90502",
  color_text                = "black",
  color_running_background  = "#d90502",
  color_running_text        = "white",
  color_finished_background = "white",
  color_finished_text       = "#d90502",
  color_finished_border     = "#d90502"
)
```

------------------------------------------------------------------------

## Today's Agenda

-   **ë‹¤ì¤‘ ë…ë¦½ ë³€ìˆ˜** (Multiple independent variables)\
-   **ì—°ì† ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ í•´ì„** (Interpretation for continuous and dummy regressors)\
-   **ë”ë¯¸ ë³€ìˆ˜ í•¨ì •** (Dummy Variable Trap)\
-   **ëˆ„ë½ ë³€ìˆ˜ í¸í–¥** (Omitted Variable Bias)\
-   **ì¡°ì •ëœ** $R^2$ (Adjusted $R^2$)\
-   **ì‹¤ì¦ ë¶„ì„:**
    -   *í•™ê¸‰ ê·œëª¨* (Class Size)ì™€ *í•™ìƒ ì„±ì·¨* (Student Performance)

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨

**Angrist & Lavy (1999)ì˜ ì—°êµ¬ ë¶„ì„**

-   ì´ìŠ¤ë¼ì—˜ í•™ìƒë“¤ì˜ ì„±ì·¨ë„ì— ëŒ€í•œ *í•™ê¸‰ ê·œëª¨*ì˜ ì˜í–¥ì„ ë¶„ì„\
-   **ë‹¨ìˆœ ì„ í˜• íšŒê·€**ë¥¼ ì‚¬ìš©í•œ ê²½ìš°,\
    â†’ í•™ê¸‰ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ìˆ˜í•™ ë° ì½ê¸° ì ìˆ˜ê°€ ì¦ê°€í•˜ëŠ” ***ì—°ê´€ì„±***ì´ ë°œê²¬ë¨

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ì›ìë£Œ ê´€ê³„

```{r, echo = FALSE, fig.height=4.75, fig.width = 8}
# ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
grades = read_dta(file = "https://www.dropbox.com/s/wwp2cs9f0dubmhr/grade5.dta?dl=1")

set.seed(123)

grades %>%
ggplot(aes(x = classize, y = avgmath)) + 
  geom_point(size = 2, alpha = 0.5) +
  xlim(0,45) +
  ylim(0, 100) +
  labs(
    x = "Class size",
    y = "Average score",
    title = "Mathematics") +
  theme_bw(base_size = 14)
```

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¨ìˆœ ì„ í˜• íšŒê·€ í¬í•¨

```{r, echo=FALSE, fig.height=4.75, fig.width = 8}
set.seed(123)

grades %>%
ggplot(aes(x = classize, y = avgmath)) + 
  geom_point(size = 2, alpha = 0.5) +
  xlim(0,45) +
  ylim(0, 100) +
  labs(
    x = "Class size",
    y = "Average score",
    title = "Mathematics") +
  theme_bw(base_size = 14) +
  geom_smooth(se = FALSE, method = "lm", colour = "#d90502") # íšŒê·€ì„  ì¶”ê°€
```

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¨ìˆœ ì„ í˜• íšŒê·€ í¬í•¨

::::: columns
::: {.column width="50%"}
```{r, echo=FALSE, fig.height=6}
set.seed(123)

grades %>%
ggplot(aes(x = classize, y = avgmath)) + 
  geom_point(size = 2, alpha = 0.5, position = "jitter") +
  xlim(0,45) +
  ylim(0, 100) +
  labs(
    x = "Class size",
    y = "Average score",
    title = "Mathematics") +
  theme_bw(base_size = 20) +
  geom_smooth(se = FALSE, method = "lm", colour = "#d90502")
```
:::

::: {.column width="50%"}
```{r}
lm(avgmath ~ classize, grades)
```
:::
:::::

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨

-   **Angrist & Lavy (1999)**ì˜ ì—°êµ¬ë¡œ ëŒì•„ê°€ì„œ, *ì´ìŠ¤ë¼ì—˜ì—ì„œì˜ í•™ê¸‰ ê·œëª¨ê°€ í•™ìƒ ì„±ì·¨ì— ë¯¸ì¹˜ëŠ” ì˜í–¥*ì„ ë¶„ì„í•´ë³´ì.

-   **ë‹¨ìˆœ ì„ í˜• íšŒê·€** (Simple Linear Regression) ê²°ê³¼ì— ë”°ë¥´ë©´, *í•™ê¸‰ ê·œëª¨ê°€ í•™ìƒë“¤ì˜ ìˆ˜í•™ ë° ì½ê¸° ì ìˆ˜ì™€ ì–‘ì˜ ìƒê´€ê´€ê³„ë¥¼ ê°€ì§* (**positively associated**).

-   ì´ëŠ” **ì§ê´€ì ìœ¼ë¡œ ì˜ˆìƒë˜ì§€ ì•ŠëŠ” ê²°ê³¼**ì´ë©°, *STAR* ë¬´ì‘ìœ„ ì‹¤í—˜ ê²°ê³¼ì™€ë„ ëŒ€ì¡°ì ì„.

-   **ê·¸ë ‡ë‹¤ë©´, í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨ ëª¨ë‘ì™€ ê´€ë ¨ëœ ë‹¤ë¥¸ ë³€ìˆ˜ê°€ ìˆì„ê¹Œ?**

-   íŠ¹íˆ, **ì§€ì—­(location) íš¨ê³¼**ê°€ ì¡´ì¬í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.

    -   *ëŒ€ê·œëª¨ í•™ê¸‰*ì€ ë¶€ìœ í•œ ëŒ€ë„ì‹œì—ì„œ ë” í”í•  ìˆ˜ ìˆìŒ.\
    -   *ì†Œê·œëª¨ í•™ê¸‰*ì€ ê²½ì œì ìœ¼ë¡œ ì–´ë ¤ìš´ ë†ì´Œ ì§€ì—­ì—ì„œ ë” ë§ì„ ìˆ˜ ìˆìŒ.

-   **ì´ ê°€ì„¤ì„ ê²€ì¦í•´ë³´ì.**

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: êµë€ ë³€ìˆ˜(Confounders)

::::: columns
::: {.column width="50%"}
**í•™ê¸‰ ê·œëª¨ì™€ ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ ê°„ì˜ ê´€ê³„**

```{r, echo = FALSE, fig.height=4.75, fig.width = 8}
ggplot(grades, aes(x = disadvantaged, y = classize)) + 
  geom_point(size = 2, alpha = 0.4, position = "jitter") +
  xlim(0,100) +
  ylim(0,45) +
  labs(
    x = "% class coming from disadvantaged backgrounds",
    y = "Class size",
    title = "Relationship with class size") +
  theme_bw(base_size = 20) +
  geom_smooth(se = FALSE, method = "lm", colour = "#d90502")
```

â¡ í‰ê· ì ìœ¼ë¡œ, ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ì´ ë†’ì€ í•™ê¸‰ì¼ìˆ˜ë¡ í•™ê¸‰ ê·œëª¨ê°€ ì‘ìŒ. :
:::

::: {.column width="50%"}
**í‰ê·  ìˆ˜í•™ ì ìˆ˜ì™€ ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ ê°„ì˜ ê´€ê³„**

```{r, echo = FALSE, fig.height=4.75, fig.width = 8}
ggplot(grades, aes(x = disadvantaged, y = avgmath)) + 
  geom_point(size = 2, alpha = 0.4, position = "jitter") +
  xlim(0,100) +
  ylim(0,100) +
  labs(
    x = "% class coming from disadvantaged backgrounds",
    y = "Average math score",
    title = "Relationship with average math score") +
  theme_bw(base_size = 20) +
  geom_smooth(se = FALSE, method = "lm", colour = "#d90502")
```

â¡ í‰ê· ì ìœ¼ë¡œ, ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ì´ ë†’ì„ìˆ˜ë¡ í‰ê·  ìˆ˜í•™ ì ìˆ˜ê°€ ë‚®ì•„ì§.
:::
:::::

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¤ì¤‘ íšŒê·€ ë¶„ì„ (Multiple regression)

-   ìš°ë¦¬ëŠ” **í•™ê¸‰ ê·œëª¨ê°€ í‰ê·  ìˆ˜í•™ ì ìˆ˜ì— ë¯¸ì¹˜ëŠ” íš¨ê³¼**ë¥¼ ì•Œê³  ì‹¶ìŒ.

-   í•˜ì§€ë§Œ, **ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨**ê³¼ í•™ê¸‰ ê·œëª¨ ë° í‰ê·  ìˆ˜í•™ ì ìˆ˜ ê°„ì˜ **ìŒì˜ ê´€ê³„**ë¥¼ ê³ ë ¤í•´ì•¼ í•¨.

-   ì´ë¥¼ ìœ„í•´ **`classize`ì™€ `disadvantaged` ë³€ìˆ˜ë¥¼ íšŒê·€ ë¶„ì„ì˜ ë…ë¦½ ë³€ìˆ˜(regressors)ë¡œ í¬í•¨í•´ì•¼ í•¨**.

-   ì´ë ‡ê²Œ í•˜ë©´ **í•™ê¸‰ ê·œëª¨ê°€ í‰ê·  ìˆ˜í•™ ì ìˆ˜ì— ë¯¸ì¹˜ëŠ” íš¨ê³¼ë¥¼, ë¶ˆë¦¬í•œ ë°°ê²½ ë³€ìˆ˜ì˜ ì˜í–¥ì„ ì œê±°í•œ(purged) í˜•íƒœë¡œ ì¶”ì • ê°€ëŠ¥**.

**ì¶”ì •í•˜ë ¤ëŠ” íšŒê·€ ëª¨ë¸**

$$
 \textrm{average math score}_i = b_0 + b_1 \textrm{class size}_i + b_2 \textrm{% disadvantaged}_i + e_i
$$

-   ì´ëŠ” **ë‹¤ì¤‘ íšŒê·€ ë¶„ì„(Multiple Regression)**!\
-   ì´ ëª¨ë¸ì„ ê³§ ì¶”ì •í•´ë³¼ ì˜ˆì •.\
-   ë¨¼ì €, ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•´ ë³´ì.

------------------------------------------------------------------------

## ë‹¤ì¤‘ íšŒê·€ ë¶„ì„ì˜ ëª©ì 

-   **ë‹¨ìˆœ ì„ í˜• íšŒê·€ ëª¨ë¸(Simple Linear Model)** ì€ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„ë¨:

$$
y_i = b_0 + b_1 x_i + e_i
$$

-   `X`ê°€ `Y`ë¥¼ **ì¸ê³¼ì ìœ¼ë¡œ(causally) ê²°ì •í•œë‹¤ê³  ì£¼ì¥**í•˜ë ¤ë©´,

    -   **`X`ì˜ ê°’ì„ ë³€ê²½í–ˆì„ ë•Œ(`X`ë¥¼ ì¡°ì‘), ë‹¤ë¥¸ ëª¨ë“  ìš”ì¸ì€ ë™ì¼í•˜ê²Œ ìœ ì§€(ceteris paribus)ë˜ë©´ì„œ `Y`ê°€ ë³€í™”í•´ì•¼ í•¨**.

-   âš ï¸ ë§Œì•½ $y_i$ì— ì˜í–¥ì„ ì£¼ëŠ” ë‹¤ë¥¸ ëª¨ë“  ìš”ì¸ì´ $x_i$ì™€ ìƒê´€ê´€ê³„ê°€ ìˆë‹¤ë©´,\
    â†’ $b_1$ì€ ì¸ê³¼ì  íš¨ê³¼(Causal Effect)ë¡œ í•´ì„ë  ìˆ˜ ì—†ìŒ.

-   ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, **ëª¨ë¸ì„ í™•ì¥í•˜ê³ (y_ië¥¼ ë™ì‹œì— ì„¤ëª…í•˜ëŠ” ë‹¤ë¥¸ ìš”ì¸ì„ í¬í•¨)**\
    â†’ $y_i$ì™€ $x_i$ ëª¨ë‘ì™€ ê´€ë ¨ëœ ë³€ìˆ˜ë“¤ì„ ê³ ë ¤í•´ì•¼ í•¨.

------------------------------------------------------------------------

## ë‹¤ì¤‘ íšŒê·€ ë¶„ì„ ëª¨ë¸

í™•ì¥ëœ íšŒê·€ ëª¨ë¸ì€ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„ë¨:

$$
y_i = b_0 + b_1 x_{1,i} + b_2 x_{2,i}  + b_3 x_{3,i} + \dots + b_k x_{k,i} + e_i
$$

-   ì—¬ê¸°ì„œ $x_1$, $x_2$, ..., $x_k$ ëŠ” $k$ê°œì˜ ë…ë¦½ ë³€ìˆ˜(regressors)\
-   $b_1$, $b_2$, ..., $b_k$ ëŠ” **ê° ë…ë¦½ ë³€ìˆ˜ì— ëŒ€ì‘í•˜ëŠ” íšŒê·€ ê³„ìˆ˜(coefficients)**

**ì¶”ì •(Estimation)**

-   $(b_0, b_1, b_2, ..., b_k)$ ê°’ì€ **ìµœì†ŒììŠ¹ë²•(OLS, Ordinary Least Squares)** ì„ ì‚¬ìš©í•˜ì—¬ ì¶”ì •ë¨.\
-   ì¦‰, ë‹¤ìŒì„ **ìµœì†Œí™”í•˜ëŠ” ê°’**ì„ ì°¾ìŒ:

$$
\begin{align}
\sum_{i}{e_i^2} &= \sum_{i}{(y_i - \hat{y_i})^2} \\
&= \sum_{i}{[y_i - (b_0 + b_1 x_{1,i} + b_2 x_{2,i}  + b_3 x_{3,i} + \dots + b_k x_{k,i})]^2}
\end{align}
$$

-   **OLSëŠ” ì”ì°¨ ì œê³±í•©(Sum of Squared Residuals, SSR)** ì„ ìµœì†Œí™”í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìµœì ì˜ ê³„ìˆ˜ë¥¼ ì°¾ìŒ.

------------------------------------------------------------------------

## ë‹¤ì¤‘ íšŒê·€ ë¶„ì„: í•´ì„

-   **ê°€ì •** : ì¢…ì† ë³€ìˆ˜ $(y_i)$ ì™€ ë…ë¦½ ë³€ìˆ˜ $(x_k)$ ëª¨ë‘ **ì—°ì†í˜• ë³€ìˆ˜(numeric variables)** ë¼ê³  ê°€ì •.

-   **ì ˆí¸ (**$b_0$): $x_1, x_2, x_3, ...$ ëª¨ë“  ë…ë¦½ ë³€ìˆ˜ê°€ 0ì¼ ë•Œ, ì˜ˆì¸¡ëœ $y$ ê°’ $\widehat{y}$

-   **ê¸°ìš¸ê¸° (**$b_k$): $x_k$ê°€ 1 ë‹¨ìœ„ ì¦ê°€í•  ë•Œ, $y$ ê°’ì´ í‰ê· ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ì˜ˆì¸¡... ë‹¨, ë‹¤ë¥¸ ëª¨ë“  ë…ë¦½ ë³€ìˆ˜ë“¤ì€ ì¼ì •í•˜ê²Œ ìœ ì§€!

-   **ë‹¤ë¥¸ ëª¨ë“  ë³€ìˆ˜ë“¤ì„ ì¼ì •í•˜ê²Œ ìœ ì§€í•œë‹¤ëŠ” ì **ì´ **ë‹¨ìˆœ ì„ í˜• íšŒê·€(SLM)ì™€ ë‹¤ë¥¸ ì **.\

-   ì¦‰, $x_k$ê°€ $y$ì— ë¯¸ì¹˜ëŠ” ê°œë³„ì ì¸ íš¨ê³¼ë¥¼ ê³ ë¦½ì‹œì¼œ ë¶„ì„í•˜ëŠ” ê²ƒ.

-   **ì¸ê³¼ ì¶”ë¡ (Causal Inference)ê³¼ì˜ ì—°ê²°**

    -   ë‹¤ì¤‘ íšŒê·€ ë¶„ì„ì—ì„œëŠ” **ëª¨ë¸ì— í¬í•¨ëœ ë³€ìˆ˜ë“¤ë§Œ ì¼ì •í•˜ê²Œ ìœ ì§€**ë¨.\
    -   **ëª¨ë¸ì— í¬í•¨ë˜ì§€ ì•Šì€ ë³€ìˆ˜ë“¤ì€ ì—¬ì „íˆ ë³€í•  ìˆ˜ ìˆì–´, ì¶”ì •ê°’ì— í¸í–¥ì„ ì¼ìœ¼í‚¬ ê°€ëŠ¥ì„±ì´ ìˆìŒ.**

------------------------------------------------------------------------

## `R`ì„ ì‚¬ìš©í•œ ë‹¤ì¤‘ íšŒê·€ ë¶„ì„

-   ë‹¨ìˆœ ì„ í˜• íšŒê·€ì™€ ë§¤ìš° ìœ ì‚¬í•¨.
    -   `lm()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì¤‘ íšŒê·€ ë¶„ì„ ìˆ˜í–‰ ê°€ëŠ¥.

```{r, echo = TRUE, eval = FALSE}
lm(formula = dependent variable ~  independent variable 1 + independent variable 2 + ...,
   data = data.frame containing the data)
```

-   í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¤ì¤‘ íšŒê·€ ë¶„ì„: $\textrm{average math score}_i = b_0 + b_1 \textrm{class size}_i + b_2 \textrm{% disadvantaged}_i + e_i$

```{r}
lm(avgmath ~ classize + disadvantaged, grades)
```

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¤ì¤‘ íšŒê·€ ë¶„ì„

```{r, echo = FALSE, eval=TRUE}
lm(avgmath ~ classize + disadvantaged, grades)
```

***Questions***

1.  ê° íšŒê·€ ê³„ìˆ˜(coefficients)ëŠ” ì–´ë–»ê²Œ í•´ì„í•  ìˆ˜ ìˆëŠ”ê°€?
2.  ë‹¨ìˆœ ì„ í˜• íšŒê·€(SLM)ì™€ ë¹„êµí–ˆì„ ë•Œ classize ê³„ìˆ˜ì˜ ë³€í™”ëŠ” ì–´ë–»ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€?

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¤ì¤‘ íšŒê·€ ë¶„ì„

```{r, echo = FALSE, eval=TRUE}
lm(avgmath ~ classize + disadvantaged, grades)
```

***Answers***

1.  ê° íšŒê·€ ê³„ìˆ˜ì˜ í•´ì„

-   $b_0 = 69.94$: í•™ê¸‰ ê·œëª¨ (classize) ì™€ ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ (disadvantaged) ì´ ëª¨ë‘ 0ì¼ ë•Œ, â†’ í‰ê·  ìˆ˜í•™ ì ìˆ˜(average math score)ì˜ ì˜ˆì¸¡ê°’ì€ 69.94

-   $b_1 = 0.07$: ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ì„ ì¼ì •í•˜ê²Œ ìœ ì§€í•  ê²½ìš°, í•™ê¸‰ ê·œëª¨(class size)ê°€ 1ëª… ì¦ê°€í•˜ë©´, â†’ í‰ê·  ìˆ˜í•™ ì ìˆ˜ê°€ í‰ê· ì ìœ¼ë¡œ 0.07ì  ì¦ê°€í•˜ëŠ” ê²ƒê³¼ ì—°ê´€ë¨(associated).

-   $b_2 = -0.34$: í•™ê¸‰ ê·œëª¨(class size)ë¥¼ ì¼ì •í•˜ê²Œ ìœ ì§€í•  ê²½ìš°, ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ì´ 1% ì¦ê°€í•˜ë©´, â†’ í‰ê·  ìˆ˜í•™ ì ìˆ˜ê°€ í‰ê· ì ìœ¼ë¡œ 0.34ì  ê°ì†Œí•˜ëŠ” ê²ƒê³¼ ì—°ê´€ë¨(associated).

------------------------------------------------------------------------

## í•™ê¸‰ ê·œëª¨ì™€ í•™ìƒ ì„±ì·¨: ë‹¤ì¤‘ íšŒê·€ ë¶„ì„

```{r, echo = FALSE, eval=TRUE}
lm(avgmath ~ classize + disadvantaged, grades)
```

***Answers***

2.  ë‹¨ìˆœ ì„ í˜• íšŒê·€(SLM)ì™€ ë¹„êµí–ˆì„ ë•Œ classize ê³„ìˆ˜ì˜ ë³€í™”ëŠ” ì–´ë–»ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€?

-   $b_1$ ê°’ì´ ê°ì†Œ: disadvantaged ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì í•™ê¸‰ ê·œëª¨(class size)ì˜ ê³„ìˆ˜($b_1$)ê°€ ê°ì†Œí•¨. ì´ëŠ” ì˜ˆìƒëœ ê²°ê³¼ë¡œ, â†’ í° í•™ê¸‰ì¼ìˆ˜ë¡ ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ì´ ì‘ì•„ì§€ëŠ” ê²½í–¥ì´ ìˆì—ˆê¸° ë•Œë¬¸. ì¦‰, ë‹¨ìˆœ ì„ í˜• íšŒê·€ì—ì„œëŠ” í•™ê¸‰ ê·œëª¨ê°€ í•™ìƒ ì„±ì·¨ì— ë¯¸ì¹˜ëŠ” "ìˆœìˆ˜í•œ íš¨ê³¼"ë¿ë§Œ ì•„ë‹ˆë¼, ë¶ˆë¦¬í•œ ë°°ê²½ì„ ê°€ì§„ í•™ìƒ ë¹„ìœ¨ì´ ì ì€ ì˜í–¥ë„ í¬í•¨í•˜ê³  ìˆì—ˆìŒ.

------------------------------------------------------------------------

## Task 1 {background-color="#ffebf0"}

::: {style="position: absolute; top: -30px; right: 10px; font-size: 0.8em;"}
`r countdown(minutes = 10, top = 0)`
:::

-   **ì½ê¸°(Reading) ì ìˆ˜ë¥¼ ì¢…ì† ë³€ìˆ˜(Dependent Variable)** ë¡œ ì„¤ì •í•˜ì—¬ íšŒê·€ ë¶„ì„ì„ ìˆ˜í–‰

1.  `haven` íŒ¨í‚¤ì§€ì˜ `read_dta()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸°. ë°ì´í„°ë¥¼ `grades`ë¼ëŠ” ê°ì²´ì— ì €ì¥

```{r, echo=FALSE, eval=FALSE}
library(haven)
grades <- read_dta("https://www.dropbox.com/s/wwp2cs9f0dubmhr/grade5.dta?dl=1")
```

2.  avgverb (ì½ê¸° ì ìˆ˜)ë¥¼ ì¢…ì† ë³€ìˆ˜ë¡œ, classizeì™€ disadvantagedë¥¼ ë…ë¦½ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì—¬ íšŒê·€ë¶„ì„. ê²°ê³¼ë¥¼ reg ê°ì²´ì— ì €ì¥. ê° ê³„ìˆ˜(coefficient)ì˜ ì˜ë¯¸ëŠ” ë¬´ì—‡ì¸ê°€? ë‹¨ìˆœ ì„ í˜• íšŒê·€(Simple Linear Regression)ì™€ ë¹„êµí–ˆì„ ë•Œ ê³„ìˆ˜ëŠ” ì–´ë–»ê²Œ ë‹¬ë¼ì¡ŒëŠ”ê°€? ìˆ˜í•™ ì ìˆ˜ íšŒê·€ ë¶„ì„(Math Score Regression)ê³¼ ë¹„êµí–ˆì„ ë•Œ ê³„ìˆ˜ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€?

```{r, echo=FALSE, eval=FALSE}
reg <- lm(avgverb ~ classize + disadvantaged, data = grades)
summary(reg)
```

(Optional) ë°ì´í„°ì…‹ì—ì„œ ì¶”ê°€ ê°€ëŠ¥í•œ ë³€ìˆ˜ë¥¼ í™•ì¸í•˜ê³  íšŒê·€ ë¶„ì„ì„ í™•ì¥. ëª¨ë“  ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³  reg_full ê°ì²´ì— ì €ì¥.

-   ì¶”ê°€ëœ ë³€ìˆ˜ë“¤ì˜ ê³„ìˆ˜(sign & magnitude)ë¥¼ í•´ì„í•˜ë¼.
-   ì¶”ê°€ëœ ë³€ìˆ˜ê°€ í¬í•¨ë¨ìœ¼ë¡œ ì¸í•´ classize ë° disadvantagedì˜ ê³„ìˆ˜ëŠ” ì–´ë–»ê²Œ ë³€í–ˆëŠ”ê°€?
-   ì „ì²´ ëª¨ë¸ì˜ ì„¤ëª…ë ¥ì´ ì¦ê°€í–ˆëŠ”ê°€? (R\^2 ê°’ í™•ì¸)

```{r, echo=FALSE, eval=FALSE}
reg_full <- lm(avgverb ~ ., data = grades)
summary(reg_full)
```

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ì˜ íšŒê·€ ê³„ìˆ˜ í•´ì„

-   ì—°ì†í˜•(numeric, continuous) ë³€ìˆ˜ì˜ ê³„ìˆ˜ í•´ì„ ë°©ë²•ì€ ì´ë¯¸ ì•Œê³  ìˆìŒ.

-   ê·¸ë ‡ë‹¤ë©´, ë…ë¦½ ë³€ìˆ˜ ì¤‘ í•˜ë‚˜ê°€ ***ë”ë¯¸ ë³€ìˆ˜(dummy variable)*** ë¼ë©´?

*ì˜ˆì œ (Example)*: ì•„ë˜ íšŒê·€ ëª¨ë¸ì—ì„œ ê° ê³„ìˆ˜ì˜ ì˜ë¯¸ëŠ”?

$$
\text{average math score}_i = b_0 + b_1\text{class size}_i + b_2\text{religious}_i +e_i
$$

-   `religious`: **1ì´ë©´** í•´ë‹¹ í•™êµê°€ *ì¢…êµ í•™êµ*, **0ì´ë©´** í•´ë‹¹ í•™êµê°€ *ì¼ë°˜ í•™êµ*

```{r}
lm(avgmath ~ classize + religious, grades)
```

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„ (Formal Interpretation)

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

-   ë‹¤ìŒì´ ì„±ë¦½

\begin{align}
\mathbb{E}(\text{average math score} | \text{religious} = 0 \text{ & } \text{class size} = 0) &= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times 0 + \color{#027D83}{b_2} \times 0 \\
&= \color{#d96502}{b_0}
\end{align}

**ì ˆí¸ (Intercept,** $b_0$): `religious = 0` (ì¼ë°˜ í•™êµ)ì´ê³ , `class size = 0`ì¸ ê²½ìš°ì˜ **ì˜ˆì¸¡ëœ í‰ê·  ìˆ˜í•™ ì ìˆ˜**

-   $\color{#d96502}{b_0}$ ëŠ” í•™ê¸‰ ê·œëª¨ê°€ 0ì´ê³ , í•™êµê°€ ì¼ë°˜ í•™êµì¼ ë•Œì˜ í‰ê·  ìˆ˜í•™ ì ìˆ˜ë¥¼ ì˜ë¯¸.

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„ (Formal Interpretation)

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

-   ë‹¤ìŒì´ ì„±ë¦½

\begin{equation}
\mathbb{E}(\text{average math score} | \text{religious} \in \{0,1\} \text{ & } \color{#d90502}{\text{class size} = n_1}) = \color{#d96502}{b_0} + \color{#d90502}{b_1} \times n_1 + \color{#027D83}{b_2} \times \text{religious}
\end{equation}
\begin{multline}
\mathbb{E}(\text{average math score} | \text{religious} \in \{0,1\} \text{ & } \color{#d90502}{\text{class size} = n_1+1}) = \\ \color{#d96502}{b_0} + \color{#d90502}{b_1} \times (n_1+1) + \color{#027D83}{b_2} \times \text{religious}
\end{multline}
\begin{multline}
\mathbb{E}(\text{average math score} | \text{religious} \in \{0,1\} \text{ & } \color{#d90502}{\text{class size} = n_1+1}) - \\ \mathbb{E}(\text{average math score} | \text{religious} \in \{0,1\} \text{ & } \color{#d90502}{\text{class size} = n_1}) \\
= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times (n_1+1) + \color{#027D83}{b_2} \times \text{religious} - (\color{#d96502}{b_0} + \color{#d90502}{b_1} \times n_1 + \color{#027D83}{b_2} \times \text{religious}) = \color{#d90502}{b_1}
\end{multline}

-   $\color{#d90502}{b_1}$ì€ í•™ê¸‰ ê·œëª¨(class size)ê°€ 1ëª… ì¦ê°€í•  ë•Œ, í‰ê·  ìˆ˜í•™ ì ìˆ˜ê°€ í‰ê· ì ìœ¼ë¡œ ë³€í™”í•˜ëŠ” ì •ë„ë¥¼ ë‚˜íƒ€ëƒ„. ë‹¨, **í•™êµì˜ ì¢…êµì  íŠ¹ì„±(`religious` ë³€ìˆ˜)ì€ ì¼ì •í•˜ê²Œ ìœ ì§€ëœ ìƒíƒœì—ì„œ**

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„ (Formal Interpretation)

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

-   ë‹¤ìŒì´ ì„±ë¦½

\begin{align}
\mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} = 1} \text{ & } \text{class size} \in \mathbb{N}) &= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times \text{class size} + \color{#027D83}{b_2} \times 1 \\
&= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times \text{class size} + \color{#027D83}{b_2}
\end{align}
\begin{align}
\mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} = 0} \text{ & } \text{class size} \in \mathbb{N}) &= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times \text{class size} + \color{#027D83}{b_2} \times 0 \\
&= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times \text{class size}
\end{align}
\begin{multline}
\mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} = 1} \text{ & } \text{class size} \in \mathbb{N}) - \\ \mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} =0} \text{ & } \text{class size} \in \mathbb{N}) \\
= \color{#d96502}{b_0} + \color{#d90502}{b_1} \times \text{class size} + \color{#027D83}{b_2}- (\color{#d96502}{b_0} + \color{#d90502}{b_1} \times \text{class size}) = \color{#027D83}{b_2}
\end{multline}

$\rightarrow$ $\color{#027D83}{b_2}$ corresponds to the expected difference in average math score between religious and non-religious schools, keeping class size constant.

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„: ìš”ì•½

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

\begin{equation}
\color{#d96502}{b_0} = \mathbb{E}(\text{average math score} | \text{religious} = 0 \text{ & } \text{class size} = 0)
\end{equation}
\begin{multline}
\color{#d90502}{b_1} = \mathbb{E}(\text{average math score} | \text{religious} \in \{0,1\} \text{ & } \color{#d90502}{\text{class size} = n_1+1}) - \\ \mathbb{E}(\text{average math score} | \text{religious} \in \{0,1\} \text{ & } \color{#d90502}{\text{class size} = n_1})
\end{multline}
\begin{multline}
\color{#027D83}{b_2} = \mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} = 1} \text{ & } \text{class size} \in \mathbb{N}) - \\ \mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} =0} \text{ & } \text{class size} \in \mathbb{N})
\end{multline}
\begin{equation}
\color{#d96502}{b_0} + \color{#027D83}{b_2} = \mathbb{E}(\text{average math score} | \text{religious} = 1 \text{ & } \text{class size} = 0)
\end{equation}

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„: ì‹œê°í™”

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

```{r, echo = FALSE, fig.height=5, fig.width = 10}
base_graph <- grades %>%
    ggplot(aes(x = classize, y = avgmath, col = factor(religious))) +
    geom_point(size = 3, alpha = .5) +
    scale_color_viridis_d(labels = c("FALSE","TRUE")) +
    scale_x_continuous(lim = c(0,45), expand = c(0,0)) +
    scale_y_continuous(breaks = seq(30,90,20), minor_breaks = seq(40,80,10)) +
    labs(x = "Class size", y = "Average math score", col = "Religious school") +
    theme_bw(base_size = 20) +
    theme(legend.position = c(0,1),
          legend.justification = c(0,1),
          legend.background = element_blank(),
          legend.key = element_blank(),
          legend.text = element_text(size = 12),
          legend.title = element_text(size = 12, face = "italic"))
base_graph
```

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„: ì‹œê°í™”

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

```{r, echo = FALSE, fig.height=5, fig.width = 10}
library(broom)  
library(viridis)
reg_dummy <- augment(lm(avgmath ~ classize + religious, grades))

graph_reg <- base_graph +
    geom_line(data = reg_dummy %>% filter(religious == 0), aes(x = classize, y = .fitted), color = viridis_pal()(2)[1], size = 2) +
    geom_line(data = reg_dummy %>% filter(religious == 1), aes(x = classize, y = .fitted), color = viridis_pal()(2)[2], size = 2)
graph_reg
```

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„: ì‹œê°í™”

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

```{r, echo = FALSE, fig.height=5, fig.width = 10}
library(latex2exp)
reg_coefs <- lm(avgmath ~ classize + religious, grades)$coefficient
b0 = reg_coefs[1]
b1 = reg_coefs[2]
b2 = reg_coefs[3]

graph_reg_b0 <- graph_reg +
    geom_segment(aes(x = 0, xend = 10, y = b0, yend = b0 + b1 * 10), size = .5, linetype = 2, colour = viridis_pal()(2)[1]) +
    scale_y_continuous(breaks = c(30,50,b0,70,90), labels = c("30","50",parse(text = TeX("$b_0$")),"70","90"), minor_breaks = seq(40,80,10)) +
    theme(axis.text.y = element_text(color = c("grey30", "grey30", "#d96502", "grey30", "grey30")),
          axis.ticks.y = element_line(color = c("grey30", "grey30", "#d96502", "grey30", "grey30")),
          panel.grid.minor = element_line(color = c("grey92", "grey92", "grey92", "grey92", "grey92")),
          panel.grid.major.y = element_line(color = c("grey92", "grey92", NA, "grey92", "grey92")))
graph_reg_b0
```

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„: ì‹œê°í™”

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

```{r, echo = FALSE, fig.height=5, fig.width = 10}
graph_b0_b1 <- graph_reg_b0 + 
    annotate("text", x = 3, y = 34, label = "b[1]", color = "#d90502", hjust = 0,  parse = TRUE, size = 6) +
  annotate("text", x = 4.5, y = 34, label = "is equal to the slope of these slines", hjust = 0, size = 6)
graph_b0_b1
```

------------------------------------------------------------------------

## ì—°ì†í˜• ë³€ìˆ˜ì™€ ë”ë¯¸ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„: ì‹œê°í™”

::: callout
$$
\text{average math score}_i = \color{#d96502}{b_0} + \color{#d90502}{b_1}\text{class size}_i + \color{#027D83}{b_2}\text{religious}_i +e_i
$$
:::

```{r, echo = FALSE, fig.height=5, fig.width = 10}
graph_b0_b1 +
    geom_segment(aes(x = 2, xend = 10, y = b0 + 2*b1 + b2, yend = b0 + b2 + b1 * 10), size = .5, linetype = 2, colour = viridis_pal()(2)[2]) +
    geom_segment(aes(x = 2, xend = 2, y = b0 + 2*b1 + b2, yend = b0 + 2*b1), size = .5, linetype = 1, colour = "#027D83", arrow = arrow(length = unit(0.2, "cm"), ends = "both")) +
    geom_curve(aes(x = 1.65, xend = 3, y = b0 + 1.7*b1 + b2/2, yend = 50), size = .5, color = "#027D83", linetype = 1, colour = "black", arrow = arrow(length = unit(0.3, "cm"), ends = "first")) +
    annotate("text", x = 3.3, y = 50, hjust = 0, label = "b[2]", parse = TRUE, color = "#027D83", size = 6)
```

------------------------------------------------------------------------

## ì™„ì „ ë‹¤ì¤‘ê³µì„ ì„±(Perfect Collinearity)

-   ì¶”ê°€í•˜ëŠ” ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ *ìƒˆë¡œìš´ ì •ë³´*ë¥¼ ì œê³µí•´ì•¼ í•¨.

::: callout
íšŒê·€ ëª¨í˜•ì— ì¶”ê°€í•˜ëŠ” ë³€ìˆ˜ë“¤ì€ **ì™„ì „íˆ ì„ í˜•ê²°í•©(linear combination)**ì´ ë  ìˆ˜ ì—†ìŒ.
:::

$$
x_2 \neq ax_1 + b
$$

-   ì¦‰, í•˜ë‚˜ì˜ ë…ë¦½ ë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ë…ë¦½ ë³€ìˆ˜ë“¤ì˜ ì¡°í•©ìœ¼ë¡œ ì™„ì „íˆ í‘œí˜„í•  ìˆ˜ ìˆìœ¼ë©´ ì•ˆ ë¨.

-   **ì™„ë²½í•˜ê²Œ ì„ í˜• ê²°í•©ëœ ê²½ìš°** â†’ íšŒê·€ ë¶„ì„ ìˆ˜í–‰ ë¶ˆê°€ëŠ¥

-   **ë†’ì€ ìƒê´€ê´€ê³„ë¥¼ ê°€ì§€ëŠ” ê²½ìš°**: **ê° ë…ë¦½ ë³€ìˆ˜ì˜ ê°œë³„ì  íš¨ê³¼(ê³„ìˆ˜)ë¥¼ ì •í™•íˆ ë¶„ë¦¬í•˜ê¸° ì–´ë ¤ì›€** â†’ ì¶”ì •ëœ ê³„ìˆ˜ì˜ ì‹ ë¢°ë„ê°€ ë‚®ì•„ì§ˆ ìˆ˜ ìˆìŒ

-   **ê´€ì¸¡ì¹˜ ìˆ˜(Observations) \> ë…ë¦½ ë³€ìˆ˜ ê°œìˆ˜(Independent Variables)**: **ì¦‰, ë„ˆë¬´ ë§ì€ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ë©´ ê³¼ì í•©(overfitting) ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.** â†’ âœ… **ë°˜ë“œì‹œ ì¶©ì¡±í•´ì•¼ í•˜ëŠ” ì¡°ê±´!**

------------------------------------------------------------------------

## ì™„ì „ ë‹¤ì¤‘ê³µì„ ì„±ê³¼ ë”ë¯¸ ë³€ìˆ˜ í•¨ì • (Dummy Variable Trap)

-   **ë²”ì£¼í˜• ë³€ìˆ˜(categorical variables)**ë€, íŠ¹ì • ê°œìˆ˜ì˜ **"ë ˆë²¨(levels)"**ì„ ê°€ì§€ëŠ” ë³€ìˆ˜ (ì˜ˆ: ì„±ë³„, ê³„ì ˆ, ì¸ì¢…, êµìœ¡ ìˆ˜ì¤€ ë“±)

-   **ğŸ« `religious` ë³€ìˆ˜ ì˜ˆì œ**: `religious` ë³€ìˆ˜ë¥¼ í¬í•¨í•œ íšŒê·€ ë¶„ì„ ìˆ˜í–‰

```{r, echo = FALSE}
lm(avgmath ~ classize + religious, grades)
```

âš  ë”ë¯¸ ë³€ìˆ˜ í•¨ì • (Dummy Variable Trap) ë§Œì•½ religious ë³€ìˆ˜ë¥¼ ë‘ ê°œì˜ ë”ë¯¸ ë³€ìˆ˜(is_religious, is_notreligious)ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•œë‹¤ë©´?

```{r, echo=TRUE}
grades <- grades %>%
  mutate(is_religious = (religious == 1),
         is_notreligious = (religious == 0))

lm(avgmath ~ classize + is_religious + is_notreligious, grades)
```

â“ ì™œ í•˜ë‚˜ì˜ ê³„ìˆ˜ë§Œ ì¶”ì •ë˜ëŠ”ê°€? ì™„ì „ ë‹¤ì¤‘ê³µì„ ì„± ë°œìƒ â†’ is_religiousì™€ is_notreligiousëŠ” í•­ìƒ 1ì˜ í•©ì„ ê°€ì§. ì¦‰, í•œ ë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ë¡œ ì™„ì „íˆ ì„¤ëª… ê°€ëŠ¥

::::: columns
::: {.column width="50%"}
```{r, echo=TRUE, eval = FALSE}
grades %>% count(is_religious == 1 - is_notreligious)
```
:::

::: {.column width="50%"}
```{r, echo = FALSE}
grades %>% count(is_religious == 1 - is_notreligious)
```
:::
:::::

------------------------------------------------------------------------

## ì™„ì „ ë‹¤ì¤‘ê³µì„ ì„±ê³¼ ë”ë¯¸ ë³€ìˆ˜ í•¨ì • (Dummy Variable Trap)

`R`ì€ **ì™„ì „ ë‹¤ì¤‘ê³µì„ ì„±(perfect collinearity)**ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³ , **í•œ ë³€ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ì œê±°(drop)** í•¨.

**âš  ê¸°ì¤€(reference) ê·¸ë£¹ê³¼ ê³„ìˆ˜ í•´ì„**

-   âœ… \*ì œê±°ëœ ë³€ìˆ˜(omitted category)ëŠ” ê¸°ì¤€ ê·¸ë£¹(reference group)ì´ ë¨!\*\*\
-   ğŸ’¡ ëª¨ë“  ê³„ìˆ˜ëŠ” ì´ **ê¸°ì¤€ ê·¸ë£¹ ëŒ€ë¹„ ë³€í™”ëŸ‰**ì„ ì˜ë¯¸í•¨.

\begin{multline}
\color{#027D83}{b_2} = \mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} = 1} \text{ & } \text{class size} \in \mathbb{N}) - \\  
\mathbb{E}(\text{average math score} | \color{#027D83}{\text{religious} =0} \text{ & } \text{class size} \in \mathbb{N})
\end{multline}

-   ì¦‰, $b_2$ëŠ” ì¢…êµ í•™êµ(`religious = 1`)ì™€ ì¼ë°˜ í•™êµ(`religious = 0`) ê°„ì˜ í‰ê·  ìˆ˜í•™ ì ìˆ˜ ì°¨ì´ë¥¼ ë‚˜íƒ€ëƒ„.

**ğŸ“Œ ë‘ ê°œ ì´ìƒì˜ ë²”ì£¼(category)ê°€ ìˆëŠ” ê²½ìš°**

-   **ì¹´í…Œê³ ë¦¬ê°€ 2ê°œ ì´ìƒ**ì¸ ê²½ìš°, ëª¨ë“  ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ ë”ë¯¸ ë³€ìˆ˜ë¥¼ ë§Œë“¤ í•„ìš” ì—†ìŒ.\
-   `R`ì€ `character` ë˜ëŠ” `factor` í˜•ì‹ì˜ ë³€ìˆ˜ë“¤ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³ , **ì ì ˆí•œ ë”ë¯¸ ë³€ìˆ˜ë¥¼ ìƒì„±**í•¨.

```{r, echo=TRUE}
grades <- grades %>%
  mutate(religious = factor(religious)) # ë²”ì£¼í˜• ë³€ìˆ˜ë¡œ ë³€í™˜

lm(avgmath ~ classize + religious, grades) # ìë™ìœ¼ë¡œ í•œ ë³€ìˆ˜ ì œì™¸
```

------------------------------------------------------------------------

## Task 2 {background-color="#ffebf0"}

::: {style="position: absolute; top: -30px; right: 10px; font-size: 0.8em;"}
`r countdown(minutes = 10, top = 0)`
:::

1.  **STAR ë°ì´í„°**ë¥¼ ë‹¤ìš´ë¡œë“œ [here](https://www.dropbox.com/s/bf1fog8yasw3wjj/star_data.csv?dl=1). `read.csv()`ë¥¼ ì‚¬ìš©í•˜ì—¬ `star_df` ê°ì²´ì— ì €ì¥. `NA` ê°’ì´ ìˆëŠ” í–‰ì„ ì œê±°: `star_df <- star_df[complete.cases(star_df),]`

```{r, echo=FALSE}
# ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
star_df <- read.csv("https://www.dropbox.com/s/bf1fog8yasw3wjj/star_data.csv?dl=1")

# NA ê°’ì´ ìˆëŠ” í–‰ ì œê±°
star_df <- star_df[complete.cases(star_df),]
```

2.  ì„¸ ê°œì˜ ë”ë¯¸ ë³€ìˆ˜ë¥¼ ìƒì„± (*íŒíŠ¸*: `dummy = (variable=="value")`):

-   `small`: í•™ìƒì´ ì†Œê·œëª¨ í•™ê¸‰ì— ë°°ì •ë˜ì—ˆìœ¼ë©´ TRUE, ì•„ë‹ˆë©´ FALSE
-   `regular`: í•™ìƒì´ ì¼ë°˜ í•™ê¸‰ì— ë°°ì •ë˜ì—ˆìœ¼ë©´ TRUE, ì•„ë‹ˆë©´ FALSE
-   `regular_plus`: í•™ìƒì´ ë³´ì¡° êµì‚¬ê°€ ìˆëŠ” ì¼ë°˜ í•™ê¸‰ì— ë°°ì •ë˜ì—ˆìœ¼ë©´ TRUE, ì•„ë‹ˆë©´ FALSE
-   ë˜í•œ, sum ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ìœ„ ì„¸ ê°œ ë³€ìˆ˜ì˜ í•©ì„ í™•ì¸. ë¬´ì—‡ì„ ëœ»í•˜ëŠ”ê°€?

```{r, echo=FALSE}
star_df <- star_df %>%
  mutate(
    small = (star == "small"),
    regular = (star == "regular"),
    regular_plus = (star == "regular+aide"),
    sum = small + regular + regular_plus
  )

# sum ë³€ìˆ˜ ê°’ í™•ì¸
unique(star_df$sum)
```

3.  `math`ë¥¼ `regular_plus`ë¡œ íšŒê·€ ë¶„ì„. regular+aide ë°˜ì— ìˆëŠ” í•™ìƒì˜ í‰ê·  `math` ì ìˆ˜ëŠ”?

4.  `math`ë¥¼ `small`, `regular`, `regular_plus`ë¡œ íšŒê·€ ë¶„ì„. ì–´ëŠ ë²”ì£¼ê°€ ì‚¬ë¼ì¡Œë‚˜?

5.  `math`ë¥¼ `star` ë³€ìˆ˜ë¡œ íšŒê·€ ë¶„ì„. ì–´ëŠ ë²”ì£¼ê°€ ì‚¬ë¼ì¡Œë‚˜? ê³„ìˆ˜ë¥¼ í•´ì„í•˜ì‹œì˜¤.

------------------------------------------------------------------------

## ëˆ„ë½ë³€ìˆ˜ í¸ì˜ (Omitted Variable Bias, OVB)

-   ***OVB*** ì´ë€, íšŒê·€ ë¶„ì„ì—ì„œ ì¤‘ìš”í•œ **í†µì œ ë³€ìˆ˜(control variable)** ë¥¼ ì œì™¸í•¨ìœ¼ë¡œì¨ ë°œìƒí•˜ëŠ” **í¸ì˜(bias)** ì„ ì˜ë¯¸.

-   ì´ë¡œ ì¸í•´ ê´€ì‹¬ ìˆëŠ” ë…ë¦½ ë³€ìˆ˜ì˜ ê³„ìˆ˜ë¥¼ **ì‹ ë¢°í•  ìˆ˜ ì—†ê³ (biased), ì™œê³¡ë  ìˆ˜ ìˆìŒ.**

$y$: ì¢…ì†ë³€ìˆ˜, $x$: ë…ë¦½ë³€ìˆ˜, $z$: ëˆ„ë½ë³€ìˆ˜ì¸ ê²½ìš° ë‹¤ìŒ íšŒê·€ë¶„ì„ì´ ê°€ëŠ¥

**1ï¸âƒ£ ë‹¨ìˆœ ì„ í˜• íšŒê·€ ëª¨ë¸ (Simple Linear Model)**

$$
y = b_0 + b_1x + e
$$

-   ì´ ê²½ìš°, $x$ì™€ $z$ê°€ ë™ì‹œì— $y$ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤ë©´, $z$ë¥¼ ì œì™¸í•˜ë©´ $b_1$ì´ í¸í–¥ë  ìˆ˜ ìˆìŒ.

**2ï¸âƒ£ ë‹¤ì¤‘ ì„ í˜• íšŒê·€ ëª¨ë¸ (Multiple Linear Model)**: ë§Œì•½ $z$ ë³€ìˆ˜ë¥¼ í¬í•¨í•œë‹¤ë©´?

$$
y = c_0 + c_1x + \color{#d90502}{c_2}z + e
$$

-   ì´ ëª¨ë¸ì—ì„œëŠ” $x$ë¿ë§Œ ì•„ë‹ˆë¼ ëˆ„ë½ëœ ë³€ìˆ˜ $z$ë„ $y$ì— ì˜í–¥ì„ ë¯¸ì¹¨. ì¦‰, $z$ë¥¼ í¬í•¨í•˜ë©´, $c_1$ì´ ë” ì •í™•í•œ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆìŒ.

**3ï¸âƒ£ ëˆ„ë½ëœ ë³€ìˆ˜ì™€** $x$ì˜ ê´€ê³„ (Omitted Variable on Regressor)

$$
z = d_0 + \color{#d96502}{d_1}x + e
$$

-   ì´ ëª¨ë¸ì€ $x$ì™€ ìƒëµëœ ë³€ìˆ˜ $z$ê°€ ì„œë¡œ ìƒê´€ê´€ê³„ê°€ ìˆì„ ê²½ìš°ë¥¼ ë‚˜íƒ€ëƒ„.
-   ì¦‰, $x$ê°€ $z$ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤ë©´, ë‹¨ìˆœ íšŒê·€ ë¶„ì„ì—ì„œ $b_1$ì˜ ì¶”ì •ì¹˜ëŠ” ì‹ ë¢°í•  ìˆ˜ ì—†ê²Œ ë¨.

**ğŸ“Œ OVB ê³µì‹**

$$
\text{OVB} = \color{#d90502}{c_2} \times \color{#d96502}{d_1}
$$

ì¦‰,

$$
b_1 = c_1 + OVB
$$

ğŸ’¡ **ê²°ë¡ :**\
ë§Œì•½ $z$ë¥¼ ìƒëµí•˜ë©´, $b_1$ì€ $c_1$ì— OVBê°€ ë”í•´ì§„ ê°’ì´ ë˜ì–´, ì‹¤ì œ ê°’ê³¼ ì°¨ì´ê°€ ë‚  ìˆ˜ ìˆìŒ.

------------------------------------------------------------------------

## ëˆ„ë½ë³€ìˆ˜ í¸ì˜ (Omitted Variable Bias, OVB)

$$
\text{OVB} = \underbrace{\text{ë‹¤ì¤‘ íšŒê·€ì—ì„œ ìƒëµëœ ë³€ìˆ˜ì˜ ê³„ìˆ˜}}_{\color{#d90502}{c_2}} \times \underbrace{\frac{Cov(x,z)}{Var(x)}}_{\color{#d96502}{d_1}}
$$

**OVBì˜ ì˜ë¯¸**

1.  OVBì˜ í¬ê¸°(magnitude)
    -   $z$ ë³€ìˆ˜ê°€ ê´€ì¸¡ë˜ëŠ” ê²½ìš°, OVBì˜ í¬ê¸°ë¥¼ ì§ì ‘ ê³„ì‚°í•  ìˆ˜ ìˆìŒ.
2.  OVBì˜ ë¶€í˜¸(sign) (ì–‘ìˆ˜/ìŒìˆ˜ ì—¬ë¶€)
    -   í˜„ì‹¤ì ìœ¼ë¡œëŠ” $z$ ë³€ìˆ˜ë¥¼ ê´€ì¸¡í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì—, **OVBì˜ ë¶€í˜¸ê°€ ë” ì¤‘ìš”í•œ ë¶„ì„ ìš”ì†Œ**ê°€ ë¨.
    -   OVBê°€ **ì–‘ìˆ˜(+)ì¸ì§€ ìŒìˆ˜(-)ì¸ì§€**ë¥¼ íŒë‹¨í•˜ë©´, $x$ì˜ ê³„ìˆ˜ê°€ ê³¼ëŒ€(+) ë˜ëŠ” ê³¼ì†Œ(-) ì¶”ì •ë˜ëŠ”ì§€ ì˜ˆì¸¡í•  ìˆ˜ ìˆìŒ.

::: callout
\*\*ì†Œë“(income)ê³¼ êµìœ¡ì—°ìˆ˜(years of education) ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ë¶„ì„í•  ë•Œ,

1.  ë‹¨ìˆœ íšŒê·€ ë¶„ì„ì—ì„œ ì†Œë“ì„ êµìœ¡ì—°ìˆ˜ì— íšŒê·€(regression) ì‹œí‚¤ë©´ ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ì¶”ì •ì¹˜ê°€ ë‚˜ì˜¬ ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ì™œ ê·¸ëŸ´ê¹Œ?
2.  ì–´ë–¤ ë³€ìˆ˜ê°€ ëˆ„ë½ëœ ë³€ìˆ˜(omitted variable)ì¼ ìˆ˜ ìˆì„ê¹Œ?\
3.  OVBì˜ ë¶€í˜¸(+) ë˜ëŠ” (-)ëŠ” ì–´ë–»ê²Œ ì˜ˆìƒí•  ìˆ˜ ìˆì„ê¹Œ?
:::

------------------------------------------------------------------------

## ëˆ„ë½ë³€ìˆ˜ í¸ì˜ (Omitted Variable Bias, OVB): ì˜ˆì œ

-   í•™ê¸‰ ê·œëª¨(`classize`)ê°€ í•™ìƒë“¤ì˜ í‰ê·  ìˆ˜í•™ ì ìˆ˜(`avgmath`)ì— ë¯¸ì¹˜ëŠ” ì˜í–¥

$$
\text{average math score} = b_0 + b_1\text{class size} + e
$$

***Simple linear model:*** $\text{average math score} = b_0 + b_1\text{class size} + e$

```{r, echo = FALSE}
reg1 <- lm(avgmath ~ classize, grades)
reg1$coefficients
```

***Multiple linear model:*** $\text{average math score} = c_0 + c_1\text{class size} + \color{#d90502}{c_2}\text{% disadvantaged} + e$

```{r, echo = FALSE}
reg2 <- lm(avgmath ~ classize + disadvantaged, grades)
reg2$coefficients
```

***Omitted variable on regressor***: $\text{% disadvantaged} = d_0 + \color{#d96502}{d_1}\text{class size} + e$

```{r, echo = FALSE}
reg3 <- lm(disadvantaged ~ classize, grades)
reg3$coefficients
```

ë”°ë¼ì„œ: $$b_1 = `r round(reg1$coefficients[2],3)` = \underbrace{`r round(reg2$coefficients[2],3)`}_{c_1} + \underbrace{(`r round(reg2$coefficients[3],3)`)}_{\color{#d90502}{c_2}} \times \underbrace{(`r round(reg3$coefficients[2],3)`)}_{\color{#d96502}{d_1}} = c_1 + OVB$$

------------------------------------------------------------------------

## ìˆ˜ì •ëœ ê²°ì • ê³„ìˆ˜ (Adjusted $R^2$)

-   $R^2$ (ê²°ì • ê³„ìˆ˜) ëŠ” íšŒê·€ ëª¨ë¸ì´ **ì¢…ì† ë³€ìˆ˜(**$y$)ì˜ ë³€ë™ì„ ì–¼ë§ˆë‚˜ ì„¤ëª…í•˜ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œ.

-   í•˜ì§€ë§Œ, **ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•  ë•Œë§ˆë‹¤** $R^2$ ê°’ì€ í•­ìƒ ì¦ê°€í•©ë‹ˆë‹¤.

    -   ì‹¬ì§€ì–´ **ì˜ë¯¸ ì—†ëŠ” ë³€ìˆ˜ë¼ë„ ì¶”ê°€í•˜ë©´** $R^2$ì´ ì¦ê°€í•  ìˆ˜ ìˆìŒ!

-   ì´ë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ **ìˆ˜ì •ëœ** $R^2$ (Adjusted $R^2$) ê°œë…ì´ ë„ì…

    -   **ë¶ˆí•„ìš”í•œ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ íŒ¨ë„í‹°(penalty)ë¥¼ ë¶€ê³¼**\
    -   í•˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ê²½ìš° $R^2$ì™€ ìˆ˜ì •ëœ $R^2$ëŠ” í° ì°¨ì´ê°€ ì—†ìŒ

------------------------------------------------------------------------

## Task 3 {background-color="#ffebf0"}

::: {style="position: absolute; top: -30px; right: 10px; font-size: 0.8em;"}
`r countdown(minutes = 10, top = 0)`
:::

*STAR* ë°ì´í„° ì‚¬ìš©

1.  Task 2ì—ì„œ í•„í„°ë§í•œ *STAR* ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ `math`ë¥¼ `school` ë³€ìˆ˜ì— ëŒ€í•´ íšŒê·€ ë¶„ì„í•˜ì‹œì˜¤. `school` ë³€ìˆ˜ê°€ í¬í•¨í•˜ëŠ” ê°’ë“¤ì„ ë¨¼ì € í™•ì¸. íšŒê·€ ê³„ìˆ˜ë¥¼ í•´ì„í•˜ì‹œì˜¤. ëˆ„ë½ëœ ë²”ì£¼ (category)ëŠ”? ê²°ê³¼ê°€ ì˜ˆìƒê³¼ ì¼ì¹˜í•˜ëŠ”ê°€? ë§Œì•½ ë‹¤ë¥´ë‹¤ë©´ ì™œ ê·¸ëŸ°ê°€? ëˆ„ë½ëœ ë³€ìˆ˜ê°€ ì¡´ì¬í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ê°€?

2.  `lunch` ë³€ìˆ˜ê°€ `"free"`ì¸ í•™ìƒë“¤ì˜ ë¹„ìœ¨ì„ **í•™êµ ìœ„ì¹˜(school) ë³„ë¡œ ê³„ì‚°**í•˜ì‹œì˜¤. ê²°ê³¼ë¥¼ ë³´ê³ , **ë¬´ë£Œ ì ì‹¬ ìê²© ì—¬ë¶€(`free`) ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬ ì´ì „ íšŒê·€ ë¶„ì„ì„ ë‹¤ì‹œ ìˆ˜í–‰**í•˜ì‹œì˜¤. `free` ë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆì„ ë•Œ íšŒê·€ ê³„ìˆ˜ëŠ” ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ê°€?

3.  `math`ë¥¼ `star` ë³€ìˆ˜ì— ëŒ€í•´ íšŒê·€ ë¶„ì„í•˜ì‹œì˜¤. ë‹¤ìŒì˜ ëª¨ë“  ë³€ìˆ˜ë¥¼ í¬í•¨í•˜ì—¬ ë‹¤ì¤‘ íšŒê·€ ë¶„ì„ì„ ìˆ˜í–‰í•˜ì‹œì˜¤:\
    `math ~ star + gender + ethnicity + lunch + degree + experience + school`. ë¬´ì‘ìœ„ ì‹¤í—˜ì´ **ì˜ ìˆ˜í–‰ë˜ì—ˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆëŠ”ê°€?**

4.  **ë‹¤ì¤‘ íšŒê·€ ë¶„ì„**ì—ì„œ ì–»ì€ **ìˆ˜ì •ëœ** $R^2$ ê°’ì„ í™•ì¸í•˜ì‹œì˜¤. ìˆ˜ì •ëœ $R^2$ ê°’ì´ ì˜ë¯¸í•˜ëŠ” ë°”ëŠ” ë¬´ì—‡ì¸ê°€? ê´€ì¸¡ ê°€ëŠ¥í•œ ê°œë³„ í•™ìƒ, êµì‚¬, í•™êµ íŠ¹ì„±ì´ í•™ì—… ì„±ì·¨ë„ì— ë¯¸ì¹˜ëŠ” ì¤‘ìš”ì„±\*\*ì— ëŒ€í•´ ì–´ë–¤ ê²°ë¡ ì„ ë‚´ë¦´ ìˆ˜ ìˆëŠ”ê°€?

5.  (Optional) `math`ë¥¼ `gender`ì™€ `experience` ë³€ìˆ˜ì— ëŒ€í•´ íšŒê·€ ë¶„ì„í•˜ì‹œì˜¤. íšŒê·€ ê³„ìˆ˜ë¥¼ ì–´ë–»ê²Œ í•´ì„í•  ìˆ˜ ìˆëŠ”ê°€? ì´ëŸ¬í•œ íšŒê·€ ë¶„ì„ ê²°ê³¼ë¥¼ \*\*ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•œë‹¤ë©´ ì–´ë–»ê²Œ ë³´ì¼ ê²ƒì¸ê°€?

------------------------------------------------------------------------

## ğŸ” ì¸ê³¼ ê´€ê³„ë¥¼ ì°¾ì•„ê°€ëŠ” ê¸¸

âœ… ***ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë‹¤ë£°ê¹Œ?*** : ì½ê¸°(Read), ì •ë¦¬(Tidy), ì‹œê°í™”(Visualize)...

ğŸš§ ***ë³€ìˆ˜ê°„ ê´€ê³„ë¥¼ ì–´ë–»ê²Œ ìš”ì•½í• ê¹Œ?*** ...ë‹¨ìˆœ / ë‹¤ì¤‘ ì„ í˜• íšŒê·€...ê³„ì† í•™ìŠµ

âœ… ì¸ê³¼ ê´€ê³„(Causality)ë€ ë¬´ì—‡ì¸ê°€?

âŒ ì „ì²´ ëª¨ì§‘ë‹¨ì„ ê´€ì¸¡í•˜ì§€ ëª»í•˜ë©´ ì–´ë–»ê²Œ í• ê¹Œ?

âŒ ìš°ë¦¬ì˜ ì—°êµ¬ ê²°ê³¼ê°€ ë‹¨ìˆœí•œ ë¬´ì‘ìœ„(Randomness) ë•Œë¬¸ì¼ ìˆ˜ë„ ìˆì„ê¹Œ?

âŒ ì‹¤ì œë¡œ ì™¸ìƒì„±ì„ ì–´ë–»ê²Œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆì„ê¹Œ?

------------------------------------------------------------------------


<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

::: {style="display: flex; justify-content: center; align-items: center; height: 70vh;"}
<h2 style="color: #ff6666; text-align: center; font-family: &#39;Pacifico&#39;, cursive; font-size: 50px;">

THE END!

</h2>
:::